{"ast":null,"code":"var _jsxFileName = \"/home/gautier/Rendu/projet_mern/projet-final/projet-final-master/client/src/components/Auth/Connection.js\";\nimport React, { Component } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport SaveIcon from '@material-ui/icons/Save';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { connectionUser } from '../../actions/authActions';\nconst styles = {\n  textField: {\n    marginTop: '1%',\n    marginRigth: '1%',\n    width: '100%'\n  },\n  btnBlock: {\n    textAlign: 'center',\n    margin: '2%'\n  }\n};\n\nclass Connection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: '',\n      password: '',\n      errors: {}\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push('/');\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push('/');\n    }\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const userData = {\n      login: this.state.login,\n      password: this.state.password\n    };\n    this.props.connectionUser(userData);\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Paper, {\n      style: {\n        padding: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      type: \"login\",\n      label: \"Login\",\n      className: classes.textField,\n      value: this.state.login,\n      name: \"login\",\n      onChange: this.handleChange,\n      helperText: errors.login ? errors.login : '',\n      error: errors.login ? true : false,\n      placeholder: \"Ex: koko\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      type: \"password\",\n      label: \"Password\",\n      className: classes.textField,\n      value: this.state.password,\n      name: \"password\",\n      onChange: this.handleChange,\n      helperText: errors.password ? errors.password : '',\n      error: errors.password ? true : false,\n      placeholder: \"Tape your password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.btnBlock,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      style: {\n        backgroundColor: '#ffab91'\n      },\n      type: \"submit\",\n      className: classes.button,\n      startIcon: /*#__PURE__*/React.createElement(SaveIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 140\n        }\n      }),\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, \"Connection\"))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  connectionUser\n})(withRouter(withStyles(styles)(Connection)));","map":{"version":3,"sources":["/home/gautier/Rendu/projet_mern/projet-final/projet-final-master/client/src/components/Auth/Connection.js"],"names":["React","Component","Paper","TextField","Button","withStyles","SaveIcon","withRouter","connect","connectionUser","styles","textField","marginTop","marginRigth","width","btnBlock","textAlign","margin","Connection","constructor","props","state","login","password","errors","handleChange","bind","handleSubmit","componentDidMount","auth","isAuthenticated","history","push","componentWillReceiveProps","nextProps","setState","e","target","name","value","preventDefault","userData","render","classes","padding","backgroundColor","button","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Paper from '@material-ui/core/Paper'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport { withStyles } from '@material-ui/core/styles'\nimport SaveIcon from '@material-ui/icons/Save'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { connectionUser } from '../../actions/authActions'\n\nconst styles = {\n    textField: {\n        marginTop: '1%',\n        marginRigth: '1%',\n        width: '100%'\n    },\n    btnBlock: {\n        textAlign: 'center',\n        margin: '2%'\n    }\n}\n\nclass Connection extends Component\n{\n    constructor (props) {\n        super(props)\n        this.state = {\n            login: '',\n            password: '',\n            errors: {}\n        }\n        this.handleChange = this.handleChange.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)   \n    }\n\n    componentDidMount () {\n        if(this.props.auth.isAuthenticated) {\n            this.props.history.push('/')\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.errors) {\n            this.setState({ errors: nextProps.errors })\n        }\n\n        if (nextProps.auth.isAuthenticated) {\n            this.props.history.push('/')\n        }\n    }\n\n    handleChange (e) {\n        this.setState({ [e.target.name]: e.target.value })\n    }\n\n    handleSubmit (e) {\n        e.preventDefault()\n        const userData = {\n            login: this.state.login,\n            password: this.state.password,\n        }\n\n        this.props.connectionUser(userData)\n    }\n\n    render () {\n        const { classes } = this.props;\n        const { errors } = this.state\n        return (\n            <Paper style={{ padding: 8 }}>\n                <form onSubmit={this.handleSubmit}>\n                    <TextField \n                        variant=\"outlined\"\n                        type=\"login\"\n                        label=\"Login\"\n                        className={classes.textField}\n                        value={this.state.login}\n                        name=\"login\"\n                        onChange={this.handleChange}\n                        helperText={errors.login ? errors.login : ''}\n                        error={errors.login ? true : false}\n                        placeholder=\"Ex: koko\" />\n\n                    <TextField \n                        variant=\"outlined\" \n                        type=\"password\"\n                        label=\"Password\"\n                        className={classes.textField}\n                        value={this.state.password}\n                        name=\"password\"\n                        onChange={this.handleChange}\n                        helperText={errors.password ? errors.password : ''}\n                        error={errors.password ? true : false}\n                        placeholder=\"Tape your password\" />\n\n                    <div className={classes.btnBlock}>\n                    <Button variant=\"contained\" style={{ backgroundColor: '#ffab91' }} type=\"submit\" className={classes.button} startIcon={<SaveIcon />} value=\"Submit\">Connection</Button>\n                    </div>\n                </form>\n            </Paper>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    auth: state.auth,\n    errors: state.errors\n})\n\nexport default connect(mapStateToProps, { connectionUser })(withRouter(withStyles(styles)(Connection)))\n"]},"metadata":{},"sourceType":"module"}